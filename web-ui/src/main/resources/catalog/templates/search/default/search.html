<div class="navbar navbar-inverse" role="navigation"
     data-ng-include="'../../catalog/templates/top-toolbar.html'">
</div>

<div class="container gn-search-page" data-ng-controller="GnSearchController">
  <div class="container gn-search-page" data-ng-controller="gnsDefault">

    <tabset id="main-tabset">
      <tab heading="{{mainTabs.home.title}}" active="mainTabs.home.active">
        HOME
      </tab>
      <tab select="displayMapTab()" heading="{{mainTabs.map.title}} {{mainTabs.map.titleInfo}}" active="mainTabs.map.active">
        <div gn-main-viewer="" map="searchObj.viewerMap">
        </div>
      </tab>
      <tab heading="{{mainTabs.search.title}}" active="mainTabs.search.active">
        <form data-ng-search-form="" class="form-horizontal" role="form">

          <button type="button" data-ng-click="addLayerToMap(2)" class="btn btn-primary btn-lg" data-translate>ADD</button>

          <!--ANY full text search input-->
          <div class="form-group row ">
            <div class="col-md-9">
              <input type="text" ng-model="searchObj.params.any" placeholder="Search"
                     typeahead="address for address in getLocation($viewValue)" typeahead-loading="loadingLocations" class="form-control input-lg"
                     typeahead-min-length="1">
              <i ng-show="loadingLocations" class="fa fa-refresh"></i>
            </div>
            <button type="button" data-ng-click="triggerSearch()" class="btn btn-primary btn-lg" data-translate>Search</button>

            <label type="button" class="btn btn-link btn-lg" ng-model="searchObj.advancedMode" btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0">
              <i class="fa fa-cog"></i>
            </label>
          </div>

          <!--Advanced search form-->
          <div data-ng-show="searchObj.advancedMode" class="row gn-advanced-searchform">
            <div class="panel panel-default col-md-4">
              <div class="panel-heading">What</div>
              <div class="panel-body">
                <div class="form-group">
                  <label for="categoriesF" class="col-md-3 col-sm-12 control-label">Categories</label>
                  <div class="col-sm-9">
                    <input type="text" id="categoriesF" value="" class="form-control" />
                  </div>
                </div>
                <div class="form-group">
                  <label for="keywordsF" class="col-md-3 col-sm-12 control-label">Keywords</label>
                  <div class="col-sm-9">
                    <input type="text" id="keywordsF" value="" class="form-control" data-ng-model="searchObj.params.keyword" gn-search-suggest="keyword" multi="true"/>
                  </div>
                </div>
                <div class="form-group">
                  <label for="orgNameF" class="col-md-3 col-sm-12 control-label">Organisation</label>
                  <div class="col-sm-9">
                    <input type="text" id="orgNameF" value="" class="form-control" data-ng-model="orgName" gn-search-suggest="orgName"/>
                  </div>
                </div>
              </div>
            </div>
            <div class="panel panel-default col-md-4">
              <div class="panel-heading">Where</div>
              <div class="panel-body">
                <div gn-map-field="searchObj.searchMap"></div>
              </div>
            </div>
            <div class="panel panel-default col-md-4">
              <div class="panel-heading">When</div>
              <div class="panel-body">
                <div class="form-group">
                  <label class="col-md-3 col-sm-12 control-label">DÃ©but</label>
                  <div class="input-group date col-sm-9" data-date="" data-date-format="dd-mm-yyyy"
                       gn-bootstrap-datepicker="searchObj.params.creationDateFrom">
                    <input class="form-control" type="text">
                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                  </div>
                </div>

                <div class="form-group">
                  <label class="col-md-3 col-sm-12 control-label">Fin</label>
                  <div class="input-group date col-sm-9" data-date="" data-date-format="dd-mm-yyyy"
                       gn-bootstrap-datepicker="searchObj.params.creationDateTo">
                    <input class="form-control" type="text">
                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                  </div>
                </div>
              </div>
            </div>


          </div>

          <div class="panel panel-default row">
            <div class="panel-heading">
              <div gn-results-tpl-switcher template-url="resultTemplate" class="pull-right"></div>
              <div data-gn-pagination="paginationInfo"></div>
              <div hitsperpage-combo pagination-cfg="paginationInfo"></div>
              <div sortby-combo params="searchObj.params"></div>
            </div>
            <div data-gn-facet-breadcrumb="currentFacets"></div>
            <div gn-results-container class="panel-body" data-ng-class="{'bg-success' : searching}"
                 search-results="searchResults" template-url="resultTemplate" map="searchObj.searchMap"></div>
          </div>


        </form>
      </tab>
    </tabset>
  </div>
</div>
