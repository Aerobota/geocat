<div data-ng-controller="gocatSearchFormCtrl">

  <div class="form-horizontal" role="form">

    <div class="basic" ng-class="{ 'active': !advanced }">

      <!-- Catalog Combo -->
      <div class="form-group">
        <label for="catalogSF" class="col-md-4 col-sm-12 control-label" translate>source</label>
        <div class="col-sm-8">
          <input type="text" id="catalogSF" value="" class="form-control"
                 data-ng-model="searchObj.params._catalog" gn-typeahead="sourcesOptions"/>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-md-4">
        <button type="button" data-ng-click="resetSearch('#anySearchField');" class="btn btn-link" >
          <span translate>Reset</span></button>
      </div>
      <div class="col-md-4">
        <button class="btn btn-link" ng-click="advanced = !advanced" ng-class="{'backtonormal': advanced}" type="button">
          <span translate ng-if="!advanced">advancedForm</span>
          <span translate ng-if="advanced">simpleForm</span>
        </button>
      </div>
    </div>

    <!-- Advanced search form -->
    <div class="advanced" ng-class="{ 'active': advanced }">

      <div class="form-group">
        <label for="sourcesF" class="col-md-4 col-sm-12 control-label" translate>source</label>
        <div class="col-sm-8">
          <input type="text" id="sourcesF" value="" class="form-control"
          data-ng-model="searchObj.params._catalog" gn-typeahead="sourcesOptions"/>
        </div>
      </div>

      <fieldset>

        <legend translate>What</legend>

        <!--Title-->
        <div class="form-group">
          <label for="titleF" class="col-md-4 col-sm-12 control-label" translate>title</label>
          <div class="col-sm-8">
            <input type="text" id="titleF" value="" class="form-control" data-ng-model="searchObj.params.title"/>
          </div>
        </div>

        <!--Abstract-->
        <div class="form-group">
          <label for="abstractF" class="col-md-4 col-sm-12 control-label" translate>abstract</label>
          <div class="col-sm-8">
            <input type="text" id="abstractF" value="" class="form-control" data-ng-model="searchObj.params.title"/>
          </div>
        </div>

        <!--Keywords-->
        <div class="form-group">
          <label for="keywordsF" class="col-md-4 col-sm-12 control-label" translate>keywords</label>
          <div class="col-sm-8">
            <input type="text" id="keywordsF" value="" class="form-control"
                   data-ng-model="searchObj.params.keyword" gn-typeahead="keywordsOptions"/>
          </div>
        </div>

        <!--Topic category-->
        <div class="form-group">
          <label for="topiccatF" class="col-md-4 col-sm-12 control-label" translate>topiccat</label>
          <div class="col-sm-8">
            <input type="text" id="topiccatF" value="" class="form-control"
                   data-ng-model="searchObj.params.topicCat" gn-typeahead="topicCatsOptions"/>
          </div>
        </div>

        <!--Family name-->
        <div class="form-group">
          <label for="creatorF" class="col-md-4 col-sm-12 control-label" translate>contact</label>
          <div class="col-sm-8">
            <input type="text" id="creatorF" value="" class="form-control" data-ng-model="searchObj.params.creator"/>
          </div>
        </div>

        <!--Organisation-->
        <div class="form-group">
          <label for="orgNameF" class="col-md-4 col-sm-12 control-label" translate>organisation</label>
          <div class="col-sm-8">
            <input type="text" id="orgNameF" value="" class="form-control"
                   data-ng-model="searchObj.params.orgName" gn-typeahead="orgNameOptions"/>
          </div>
        </div>

        <!--Template-->
        <div class="form-group" ng-if="user['@authenticated'] == 'true'">
          <label for="templateF" class="col-md-4 col-sm-12 control-label" translate>template</label>
          <div class="col-sm-8">
            <input id="templateF" type="checkbox" data-ng-model="searchObj.params._isTemplate" ng-true-value="y" ng-false-value="n">
          </div>
        </div>

        <!--Identifier-->
        <div class="form-group">
          <label for="basicidF" class="col-md-4 col-sm-12 control-label" translate>identifier</label>
          <div class="col-sm-8">
            <input type="text" id="basicidF" value="" class="form-control" data-ng-model="searchObj.params.basicgeodataid"/>
          </div>
        </div>

        <!--Formats-->
        <div class="form-group" ng-if="user['@authenticated'] == 'true'">
          <label for="formatF" class="col-md-4 col-sm-12 control-label" translate>format</label>
          <div class="col-sm-8">
            <input type="text" id="formatF" value="" class="form-control"
                   data-ng-model="searchObj.params.format" gn-typeahead="topicCatsOptions"/>
          </div>
        </div>

      </fieldset>

      <fieldset>

        <legend translate>Record type</legend>

        <!-- Types Combo (from a local scope array) -->
        <div class="form-group">
          <label for="typeAF" class="col-md-4 col-sm-12 control-label" translate>type</label>
          <div class="col-sm-8" id="typeAF">
            <select class="form-control" data-ng-model="searchObj.params.type">
              <option data-ng-repeat="t in types">{{t}}</option>
            </select>
          </div>
        </div>

        <!-- Valid Combo (from a local scope array) -->
        <div class="form-group" ng-if="user['@authenticated'] == 'true'">
          <label class="col-md-4 col-sm-12 control-label" translate>valid</label>
          <div class="col-sm-8">
            <select class="form-control input-sm" data-ng-model="searchObj.params._valid" name="">
              <option data-ng-repeat="v in validStore" value="{{v.value}}" translate>{{v.label}}</option>
            </select>
          </div>
        </div>

        <!--To Edit-->
        <div class="form-group" ng-if="user['@authenticated'] == 'true'">
          <label for="toeditF" class="col-md-4 col-sm-12 control-label" translate>toEdit</label>
          <div class="col-sm-8">
            <input id="toeditF" type="checkbox" data-ng-model="searchObj.params.editable" ng-true-value="true" ng-false-value="">
          </div>
        </div>

        <!--To publish-->
        <div class="form-group" ng-if="user['@authenticated'] == 'true'">
          <label for="topublishF" class="col-md-4 col-sm-12 control-label" translate>toPublish</label>
          <div class="col-sm-8">
            <input id="topublishF" type="checkbox" data-ng-model="searchObj.params.toPublish" ng-true-value="y" ng-false-value="">
          </div>
        </div>

        <!-- Archives Combo (from a local scope array) -->
        <div class="form-group">
          <label class="col-md-4 col-sm-12 control-label" translate>archive</label>
          <div class="col-sm-8">
            <select class="form-control input-sm" data-ng-model="searchObj.params.historicalArchive" name="">
              <option data-ng-repeat="a in archives" value="{{a.value}}" translate>{{a.label}}</option>
            </select>
          </div>
        </div>
      </fieldset>

      <fieldset>

        <legend translate>When</legend>

        <div class="form-group">
          <label class="col-md-4 col-sm-12 control-label" translate>from</label>
          <div class="input-group date col-sm-8" data-date="" data-date-format="dd-mm-yyyy"
            gn-bootstrap-datepicker="searchObj.params.creationDateFrom">
            <input class="form-control" type="text">
            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
          </div>
        </div>

        <div class="form-group">
          <label class="col-md-4 col-sm-12 control-label" translate>to</label>
          <div class="input-group date col-sm-8" data-date="" data-date-format="dd-mm-yyyy"
            gn-bootstrap-datepicker="searchObj.params.creationDateTo">
            <input class="form-control" type="text">
            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
          </div>
        </div>

      </fieldset>

      <fieldset>

        <legend translate>restrictArea - {{restrictArea}}</legend>

        <div class="form-group">
          <div class="col-sm-12">
            <div class="btn-group-vertical restrictArea">
              <button type="button" ng-click="scrollToBottom($event)" class="btn btn-default btn-sm" ng-model="restrictArea" btn-radio="'bbox'" uncheckable>
                <span class="pull-right fa fa-refresh" ng-click="refreshDrag($event)"></span>
                <span class="fa" ng-class="(restrictArea=='bbox') ? 'fa-dot-circle-o' : 'fa-circle-o'"></span>
                <span translate>bbox</span>
              </button>
              <button type="button" ng-click="scrollToBottom($event)" class="btn btn-default btn-sm" ng-model="restrictArea" btn-radio="'au'" uncheckable>
                <span class="fa" ng-class="(restrictArea=='au') ? 'fa-dot-circle-o' : 'fa-circle-o'"></span>
                <span translate>AU</span></button>
              <button type="button" ng-click="scrollToBottom($event)" class="btn btn-default btn-sm" ng-model="restrictArea" btn-radio="'draw'" uncheckable>
                <span class="pull-right fa fa-refresh" ng-click="refreshDraw($event)"></span>
                <span class="fa" ng-class="(restrictArea=='draw') ? 'fa-dot-circle-o' : 'fa-circle-o'"></span>
                <span translate>drawOnMap</span>
              </button>
            </div>
          </div>
        </div>

        <div ng-show="restrictArea == 'au'">

          <div class="form-group">
            <label for="countryAF" class="col-md-4 col-sm-12 control-label" translate>country</label>
            <div class="col-sm-8">
              <input type="text" id="countryAF" class="form-control input-sm" data-ng-model="searchObj.params.countries" gn-typeahead="regionOptions.country"/>
            </div>
          </div>
          <div class="form-group">
            <label for="cantonAF" class="col-md-4 col-sm-12 control-label" translate>cantons</label>
            <div class="col-sm-8">
              <input type="text" id="cantonAF" class="form-control input-sm" data-ng-model="searchObj.params.cantons" gn-typeahead="regionOptions.kantone"/>
            </div>
          </div>
          <div class="form-group">
            <label for="cityAF" class="col-md-4 col-sm-12 control-label" translate>city</label>
            <div class="col-sm-8">
              <input type="text" id="cityAF" class="form-control input-sm" data-ng-model="searchObj.params.cities" gn-typeahead="regionOptions.gemeinden"/>
            </div>
          </div>

        </div>

        <select name="relation" ng-show="restrictArea != null" class="geotype" ng-model="searchObj.params.relation">
          <option value="within" selected translate>within</option>
          <option value="intersection" translate>intersection</option>
          <option value="encloses" translate>encloses</option>
        </select>

      </fieldset>
    </div>


    <button class="btn btn-default btn-sm map-expander" ng-click="toggleSearchMap()" type="button">
      <span ng-show="!searchMapExpanded"><span class="fa fa-angle-double-up"></span></span>
      <span ng-show="searchMapExpanded"><span class="fa fa-angle-double-down"></span></span>
    </button>
    <div gn-map-field="searchObj.searchMap"></div>

<!-- 
    <input type="text" name="region-picker-input" class="form-control bootstrap-tagsinput"
           data-gn-region-picker-input=""
           gn-region-type="country" data-role="tagsinput" />
-->
  </div>
</div>
